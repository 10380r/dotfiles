import urllib.request
from bs4 import BeautifulSoup
import MeCab
from collections import Counter

def scrap(url):
    tag = ''
    soup = BeautifulSoup(urllib.request.urlopen(url), 'html.parser')
    div = soup.findAll('div')
    p = soup.findAll('p')
    span = soup.findAll('span')
    
    text = ''
    tags = [div, p, span]
    for tag in tags:
         for i in tag:
             text += i.text

    return text

def analysis(text):
    words_li = []
    keywords = MeCab.Tagger().parse(text)
    for row in keywords.split('\n'):
        word = row.split('\t')[0] 
        if word == 'EOS':
            break
        else:
            pos = row.split('\t')[1].split(',')[0]
            if pos == '名詞' or pos == '形容詞':
                words_li.append(word)
    for i,j in Counter(words_li).most_common():
        if j >=5: 
            print(i,':',j)

def main():
    s = scrap(input('url: '))
    analysis(s)

if __name__ == '__main__':
    main()
